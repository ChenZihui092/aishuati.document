

# 管理员端

## 1. 登录

- 接口请求地址： /admin/login

  ```
  {
  	"userAccount": "admin", //用户名
  	"password": "" ,
  }
  ```

  

- 返回参数

  ```
  {
      "code": 200,
      "msg": "退出成功"
  }
  ```
  


## 2. 注册

- 接口请求地址：/admin/reg

  ```json
  {
      "userAccount":"",
      "password":"",
      "rep_passord":"",
      "name":"",
      "email":"",
      "sex":"",
      "telephone":"",
      "state":"", //权限
  }
  ```

  

- 返回参数

  ```json
  {
      "code":"200",
      "message":"",
  }
  ```


## 3. 登出

- 请求接口 /admin/logout

  ```JSOn
  {
      
  }
  ```

- 返回参数

  ```Json
  {
      "code": 200,
      "msg": "登出成功"
  }
  ```



## 4. 修改密码

- 接口请求地址：/admin/changePwd

  ```Json
  {
      "oldPassword":"",
      "newPassword1":"",
      "newPassword2":"",
  }
  ```

- 返回参数

  ```Jso
  {
  	"code": 200,
  	"message":"",
  }
  ```



## 5. 修改个人信息

- 接口请求地址：/admin/changeMyInfo

  ```Json
  {
      "name":"",
      "email":"",
      "telephone":"",
      "sex":"",
  }
  ```

- 返回参数

  ```Json
  {
      "code":"",
      "message":"",
  }
  ```

## 6. 学生信息查询

- 接口请求地址：/admin/getAllStuInfo

  ```Json
  {
      "page":"",
      "pageSize":"",
  }
  ```

- 返回参数：

  ```Json
  {
      "code": 200,
      "data": [
          {
              "stuId": 1,
              "stuName": "jfy",
              "stuNickName": "小怪兽爱吃甜食",
              "stuEmail": "",
              "stuTelephoto": "",
              "majorName": "计算与计算科学学院",
              "stu_level": "大三"
          },
          {
              "stuId": 2,
              "stuName": "czh",
              "stuNickName": "icebear",
              "stuEmail": "",
              "stuTelephoto": "",
              "majorName": "计算与计算科学学院",
              "stu_level": "大三"
          }
      ]
  }
  ```

## 7.卷库信息请求

- 请求地址：/getAllexamPaper

  ```Json
  {
        "page":"",
        "pageSize":"",
   }
  ```
- 返回参数

  ```Json
  {
      "examPaperId":" ",
      "examPaperName":" ",
      "AdministratorId":"",
      "gradeLevel":"",
      "createTime":"",
      "exampaperFrom":""
  }
  ```

## 8.专业接口请求

- 请求地址 /getAllMajor

  ```Json
  {
      
  }
  ```

- 返回参数

  ```Json
  {
      "majorName":"",
  }
  ```

## 9.添加专业

- 请求地址  /major/add

- 请求方式 POST

  ```Json
  {
      "majorName":"XXX",
      "departName":"XXX"
  }
  ```

- 返回参数

  ```Json
  {
      "code":200,
      "msg":"添加成功"
  }
  ```

## 10 . 题目编创

- 请求接口： /problem/add

- 请求方式 POST

  选择题 type = 1

  ```Json
  {
      "subjectName":"",
      "problemType":"",
      "difficult":"",
      "info_text_content":"",  //题面
      "correct":"",      //正确答案
      "choice_A":"",
      "choice_B":"",
      "choice_C":"",
      "choice_D":"",
  }
  ```

  主观题 type = 2

  ```Json
  {
   	"subjectName":"",
      "problemType":"",
      "difficult":"",
      "info_text_content":"",
      "reference":""
  }
  ```

- 返回参数

  ```Json
  {
      "code":200,
      "msg":"添加成功"
  }
  ```

  

# 学生端

## 1. 登录

- 请求接口 https://aishuati.zuccacm.top/user/login    

- 请求方式 POST

  ```Json
  {
      "stuAccount":"",
      "stuPwd":""
  }
  ```

- 返回参数

  ```Json
  {
      "code": 200,
      "msg": "登录成功"
  }
  ```

## 2.修改个人信息接口

- 请求地址/user/changeMyInfo

- 请求方式 POST

  ```Json
  {
      "stuNickName":"",
      "stuEmail":"",
      "stuTelephoto":"",
      "majorName":"",
  }
  ```

- 返回参数

  ```Json
  {
  	"code": 200,
      "msg":"修改成功"
  }
  ```

  ```Json
  {
      "code": 0,
      "msg": "昵称不能为空"
  }
  ```

  

## 3.修改个人密码

- 请求地址 /user/changeMyPwd

- 请求方式 POST

  ```Json
  {
      "pwd1":"",
      "Pwd2":""
  }
  ```

- 返回参数

  ```Json
  {
      "code":200,
      "msg":"修改成功"
  }
  ```

  ```Jso
  {
  	"code": 0,
  	"msg": "两次密码输入不一致"
  }
  ```

## 5.学生注册

- 请求地址 /user/rsg

- 请求方式 POST

  ```JSON
  {
      "stuAccount": "",
      "stuName":"",
      "pwd1":"",
      "pwd2":"",
      "stuNickN ame":"",
      "stuEmail":"",    //可以为空
      "stuTelephoto":"",  //可以为空
      "majorName":"",  
      "stu_level":"",
  }
  ```

- 返回参数

  ```json
  {
      "code":200,
      "msg":"注册成功"  or  "msg":"两次密码输入不一致" or "msg":"账号重复注册"
  }
  ```

  

## 6.获得个人信息

- 请求地址/user/getMyInfo

- 请求方式 GET

  ```JSon
  {
      
  }
  ```

- 返回参数

  ```Json
  {
      "code": 200,
      "data": {
          "stuId": 4,
          "stuName": "a",
          "stuNickName": "ab",
          "stuEmail": "123@qq.com",
          "stuTelephoto": "17624864",
          "majorName": "计算机与计算科学",
          "stu_level": "大三"
      }
  }
  ```


## 7. 获取所有题面信息

- 请求地址  /problem/choice/getAllProblemList

  请求地址 /problem/subjective/getAllProblemList

- 请求方式 GET

  ```Json
  {
      "page":"",
      "pageSize":""
  }
  ```
  
- 返回参数

  选择题时返回

  ```json
  {
      "code":200,
      "data":{
          "problemId":"",
          "subjectName":"",
          "administratorId":"", //题目创建人
          "difficult":"5",
          "info_text_content":"题面信息",  
          "choice_A":"选项A",
          "choice_B":"选项B",
          "choice_C":"选项C",
          "choice_D":"选项D"
      }
  }
  ```

  主观题时

  ```Json
  {
      "code":200,
      "data":{
          "problemId":"",
          "subjectName":"",
          "administratorId":"", //题目创建人
          "info_text_content":"题面信息",
          "reference":"",   //直接给参考答案
      }
  }
  ```

## 8.根据关键词查询题目

- 请求地址： /problem/choice/search   or  /problem/subjective/search （主观题)

- 请求方式 GET

  ```Json
  {
     "subjectName":"",   //可以没有
     "problemId":"",   //可以没有
     "page":"",
     "pageSize":""
  }
  ```

- 返回参数

  选择题时返回

  ```json
  {
      "code":200,
      "data":{
          "problemId":"",
          "subjectId":"",
          "administratorId":"", //题目创建人
          "difficult":"5",
          "info_text_content":"题面信息",  
          "choice_A":"选项A",
          "choice_B":"选项B",
          "choice_C":"选项C",
          "choice_D":"选项D"
      }
  }
  ```

  主观题时

  ```Json
  {
      "code":200,
      "data":{
          "problemId":"",
          "subjectId":"",
          "administratorId":"", //题目创建人
          "info_text_content":"题面信息",
          "reference":"",   //直接给参考答案
      }
  }
  ```

## 9. 查看已选择的学科

- 请求地址 /subject/getMySubject

- 请求方式GET

  ```Json
  {
      "page":1,
      "pageSize":20
  }
  ```

- 返回参数

  ```Json
  {
      "code": 200,
      "data": [
          {
              "subjectId": 2,
              "subjectName": "C语言程序设计",
              "majorName": null,
              "subjectLevel": "大一"
          },
          {
              ......
          }
      ]
  }
  ```

## 10.查看可以选择的学科

- 请求地址 /subject/getAvailableSubject

- 请求方式 GET

  ```Json
  {
      "page":1,
      "pageSize":2
  }
  ```

- 返回参数

  ```Json
  {
      "code": 200,
      "data": [
          {
              "subjectId": 1,
              "subjectName": "大学物理",
              "majorName": "软件工程",
              "subjectLevel": "大一"
          },
          {
              "subjectId": 2,
              "subjectName": "C语言程序设计",
              "majorName": "软件工程",
              "subjectLevel": "大一"
          }
      ]
  }
  ```

## 11.选择科目

这边要用可以选择单行的列表

- 请求地址 /subject/select

- 请求方式 GET

  ```Json
  {
      "subjectName":""
  }
  ```

- 返回参数

  ```Json
  {
      "code":200,
      "msg":"添加成功"
  }
  ```

  

## 11.提交答案接口

- 请求地址 /submit

- 请求方式 POST

  ```JSON
  {
      "problemId":"题面编号",   
      "mySubmit":"",  //选择的答案，选A传参1，选B传参2
  }
  ```
  
- 返回参数

  ```JSON
  {
      "code":"",
      "msg":"提交成功"
  }
  ```

## 11.查看该题提交结果

判题，看自己对不对

- 请求地址 /submit/show/result

- 请求方式GET

  ```Json
  {
      "problemId": 1,   
  }
  ```

- 返回结果

  ```Json
  {
      "code": 200,
      "msg": "答案正确"  or "答案错误"
  }
  ```

## 12查看该题正确答案

- 请求地址 /problem/showAns

- 请求方式POST

  ```JSON
  {
      "problemId":1
  }
  ```

- 返回参数

  ```Json
  {
      "code":200,
      "data":"A" or "B" or "C" or "D" 
  }
  ```

  

## 12.获取我的未读消息

- 请求地址 /news/showMyNews

- 请求方法POST

  ```Json
  {
      "page":1,
      "pageSize":2
  }
  ```

- 返回参数

  ```Json
  {
      "code": 200,
      "data": [
          {
              "sander_Id": 1,  //那个教师发送的
              "receiver_Id": 1,  //自己的编号，可以不显示
              "content": "This is a test",  //消息内容
              "createTime": "2021-11-29T11:50:37.000+00:00",   //消息发送时间，这边可能要解析一下成时间
              "state": 0  //状态，已读为1，未读为0
          }
      ]
  }
  ```

## 获得我的历史消息

- 请求地址 /news/showMyAllNews

- 请求方法POST

  ```Jso
  {
  	"page":1,
  	"pageSize":2
  }
  ```

- 返回参数

  ```Json
  {
      "code": 200,
      "data": [
          {
              "sander_Id": 1,  //那个教师发送的
              "receiver_Id": 1,  //自己的编号，可以不显示
              "content": "This is a test",  //消息内容
              "createTime": "2021-11-29T11:50:37.000+00:00",   //消息发送时间，这边可能要解析一下成时间
              "state": 0  //状态，已读为1，未读为0
          }
      ]
  }
  ```

## 确认消息

- 请求地址/news/read

- 请求方法POST

  ```Json
  {
      "senderId":1, //发送者Id
      "date":    //发送时间，这些都是这个表里的数据，可以取出来的好像
  }
  ```

- 返回参数

  ```Json
  {
      "code":200,
      "msg":"消息已读"
  }
  ```


## 错题本

- 请求接口：/problem/getMyWrongProblem

- 请求方式POST

  ```Json
  {
      "page":1,
      "pageSize":2,
  }
  ```

- 返回参数

  ```Json
  {
      "code": 200,
      "data": [
          {
              "wrongproblem_Id": 6,  //错题编号，可以不展示
              "problemId": 1,     //题目编号
              "subjectName": "大学物理",   
              "administratorId": 1,   //题目编者
              "difficult": 1,   
              "info_text_content": "请问 1+1 = ",  //题面
              "choice_A": "2",
              "choice_B": "1",
              "choice_C": "0",
              "choice_D": "4",
              "ans": 1,      //正确答案
              "reference": null,  //参考答案
              "lastSubmit": 4   //上一次错误提交的答案
          },
          {
              "wrongproblem_Id": 7,
              "problemId": 2,
              "subjectName": "大学物理",
              "administratorId": 1,
              "difficult": 1,
              "info_text_content": "1+2=",
              "choice_A": "2",
              "choice_B": "3",
              "choice_C": "0",
              "choice_D": "6",
              "ans": 2,
              "reference": null,
              "lastSubmit": 1
          }
      ]
  }
  ```

## 根据科目和题目编号查找题目

- 请求接口 /problem/searchWrongProblem

- 请求方式GET

  ```Json
  {
      "subjectName":"",
      "problemId":2,
      "page":1,
      "pageSize":20
  }
  ```

- 返回参数

  ```Json
  {
      "code": 200,
      "data": [
          {
              "problemId": 4,
              "subjectName": "C语言程序设计",
              "administratorId": 1,
              "difficult": 3,
              "info_text_content": "下列说发正确的是",
              "choice_A": "273891",
              "choice_B": "1312",
              "choice_C": "231",
              "choice_D": "2371",
              "ans": 3,
              "reference": null,
              "lastSubmit": 0
          }
      ]
  }
  ```

  

